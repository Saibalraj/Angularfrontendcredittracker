<div class="login-container">
  <img src="https://cdn-icons-png.flaticon.com/512/5087/5087579.png" alt="User Icon">
  <h2>Student Login</h2>

  <div *ngIf="showMessage" class="message" [ngClass]="messageType === 'success' ? 'success-message' : 'error-message'">
    <div class="message-content">
      <span class="message-icon">{{ messageType === 'success' ? '✅' : '⚠️' }}</span>
      <span class="message-text">{{ message }}</span>
      <button class="close-btn" (click)="closeMessage()">&times;</button>
    </div>
  </div>

  <form (ngSubmit)="login()" #loginForm="ngForm">
    <div class="form-group">
      <input
        type="text"
        name="username"
        [(ngModel)]="loginData.username"
        #username="ngModel"
        placeholder="Username"
        required
        [class.error]="username.invalid && (username.dirty || username.touched)"
      />
      <div *ngIf="username.invalid && (username.dirty || username.touched)" class="error-msg">
        Username is required
      </div>
    </div>

    <div class="form-group">
      <input
        type="password"
        name="password"
        [(ngModel)]="loginData.password"
        #password="ngModel"
        placeholder="Password"
        required
        [class.error]="password.invalid && (password.dirty || password.touched)"
      />
      <div *ngIf="password.invalid && (password.dirty || password.touched)" class="error-msg">
        Password is required
      </div>
    </div>

    <div class="options">
      <label><input type="checkbox"> Remember me</label>
      <button type="button" class="forgot-password" (click)="forgotPassword()">Forgot Password?</button>
    </div>

    <button type="submit" class="login-button" [disabled]="!loginForm.valid || isLoading">
      <span *ngIf="!isLoading">Login</span>
      <span *ngIf="isLoading" class="loading"><div class="spinner"></div> Logging in...</span>
    </button>
  </form>

  <p class="separator">OR</p>
  <p class="register-prompt">
    Don’t have an account?
    <button class="sign-button" (click)="goToSignup()">Sign Up</button>
  </p>
</div>
